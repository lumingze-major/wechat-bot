# 微信机器人功能测试计划

## 测试环境
- 系统: Ubuntu
- 机器人状态: 已启动，等待扫码登录
- 配置: 基于 .env 和 config/index.js

## 功能模块测试清单

### 1. 基础功能测试 ✅
- [x] 机器人启动/停止
- [ ] 扫码登录
- [ ] 基础消息收发
- [ ] 帮助命令 `/help`
- [ ] 状态查询 `/状态`
- [ ] 统计信息 `/统计`

### 2. AI对话功能测试
- [ ] 私聊对话
- [ ] 群聊@机器人对话
- [ ] 上下文记忆
- [ ] 清除上下文 `/clear`

### 3. 知识问答功能测试 (ENABLE_KNOWLEDGE=true)
- [ ] 知识查询 `/问 <问题>`
- [ ] 知识搜索 `/知识 <关键词>`
- [ ] Sky光遇Wiki搜索
- [ ] 维基百科查询
- [ ] 百度搜索

### 4. 娱乐功能测试 (ENABLE_ENTERTAINMENT=true)
- [ ] 游戏列表 `/游戏`
- [ ] 知识竞赛 `/竞赛`
- [ ] 文字接龙 `/接龙`
- [ ] 创意功能:
  - [ ] 诗歌创作
  - [ ] 笑话生成
  - [ ] 名言警句
- [ ] 其他游戏:
  - [ ] 谜语
  - [ ] 故事生成

### 5. 工具功能测试 (ENABLE_TOOLS=true)
- [ ] 工具列表 `/工具` 或 `/t`
- [ ] 天气查询 `/天气 [城市]`
- [ ] 翻译功能 `/翻译 <文本>`
- [ ] 计算器 `/计算 <表达式>`
- [ ] 时间查询 `/时间 [时区]`
- [ ] 汇率查询 `/汇率 [货币1] [货币2]`
- [ ] 短链生成 `/短链 <URL>`
- [ ] 二维码生成 `/二维码 <文本>`

### 6. 群聊管理功能测试 (ENABLE_GROUP_MANAGE=true)
- [ ] 群聊信息查询
- [ ] 成员管理
- [ ] 欢迎消息
- [ ] 自动回复
- [ ] 关键词过滤

### 7. 一起聊功能测试
- [ ] 启用一起聊 `/一起聊`
- [ ] 群聊消息收集(每3条回复一次)
- [ ] 停止一起聊 `/停止一起聊`
- [ ] 消息计数显示

### 8. 多媒体功能测试
- [ ] 图片识别和分析
- [ ] 视频分析
- [ ] 文件处理

### 9. 管理功能测试
- [ ] 管理员命令 `/admin`
- [ ] 系统健康检查
- [ ] 缓存管理
- [ ] 日志查看

### 10. 定时任务测试 (当前已禁用)
- [ ] 每日问候
- [ ] 天气提醒
- [ ] 每日名言
- [ ] 健康提醒
- [ ] 管理员通知

## 测试步骤

### 准备阶段
1. 确保机器人正常启动
2. 扫码登录微信
3. 准备测试用的私聊和群聊环境

### 执行阶段
1. 按模块逐一测试
2. 记录测试结果
3. 发现问题及时修复
4. 重新测试修复的功能

### 验证阶段
1. 确认所有功能正常工作
2. 检查日志输出
3. 验证性能表现
4. 确认错误处理机制

## 测试注意事项

1. **登录状态**: 确保微信保持登录状态
2. **网络连接**: 确保网络连接稳定
3. **API配置**: 确认豆包API密钥有效
4. **权限设置**: 确认机器人在群聊中有必要权限
5. **日志监控**: 实时监控日志输出，发现异常及时处理

## 测试结果记录

- 开始时间: 
- 结束时间: 
- 测试人员: 
- 通过功能数: /总功能数
- 发现问题: 
- 修复状态: